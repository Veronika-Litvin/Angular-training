<button mat-stroked-button (click)="showNonActive = ! showNonActive">Toggle</button>
<div class="users">
  <mat-list class="users-list">
    <ng-container *ngFor="let user of usersList">
      <!-- <mat-card class="user-card" *ngIf="showNonActive || user.isActivated"> -->
        <mat-card class="user-card" [class.hidden]="!showNonActive && !user.isActivated">
        <mat-card-header>
          <mat-card-title>{{user.name}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>{{user.age}}</p>
          <p class="user-state" [ngClass]="{'green' : user.isActivated}">{{user.isActivated ? 'Active' : 'NonActive'}}</p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-stroked-button (click)="deactivateUser(user)">Deactivate</button>
        </mat-card-actions>
      </mat-card>
    </ng-container>
  </mat-list>
</div>